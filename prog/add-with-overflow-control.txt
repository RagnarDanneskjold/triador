R1 NNN #
RR NNN # choose segment NNN
R2 OPN #  2 -> R2          * this program computes R2+R3
R3 PPP # 13 -> R3          * the result is stored in R3+R4*27
R4 OOO #  0 -> R4
RR OPO # R3 -> R1
SK NPO # skip if R2!=0
JP PPP # R2==0, terminate
SK PNP # skip if R2>0
RR OON # R1--
SK PNN # skip if R2<0
RR OOP # R1++
RR ONO # R1 -> R3
R1 NNO #
RR NNN # choose segment NNO
JP NNN # check for overflow subroutine call
RR OPN # R2 -> R1
SK PNP # skip if R2>0
RR OOP # R1++
SK PNN # skip if R2<0
RR OON # R1--
RR ONP # R1 -> R2
JP NOP
RR OOO # do nothing
RR OOO # do nothing
RR OOO # do nothing
EX PPP # HCF
SK PPO # skip if R4==0
JP ONN # overflow already happened
SK OOO # skip if C==0
JP NOP # C!=0
JP ONN # C==0, no overflow
SK OOP # skip if C==1
R4 OON # -1 -> R4
SK OON # skip if C==-1
R4 OOP
R1 NNN
RR NNN
JP OPO # sub return
